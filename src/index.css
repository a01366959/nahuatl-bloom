@import url('https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Grayscale Design System */
    --gray-25: 0 0% 99%;
    --gray-50: 210 20% 98%;
    --gray-100: 220 14% 96%;
    --gray-200: 220 13% 91%;
    --gray-300: 216 12% 84%;
    --gray-400: 218 11% 65%;
    --gray-500: 220 9% 46%;
    --gray-600: 215 14% 34%;
    --gray-700: 217 19% 27%;
    --gray-800: 215 28% 17%;
    --gray-900: 221 39% 11%;
    
    /* Semantic Tokens */
    --background: var(--gray-25);
    --foreground: var(--gray-900);
    
    --card: 0 0% 100%;
    --card-foreground: var(--gray-900);
    
    --popover: 0 0% 100%;
    --popover-foreground: var(--gray-900);
    
    --primary: var(--gray-900);
    --primary-foreground: var(--gray-25);
    
    --secondary: var(--gray-100);
    --secondary-foreground: var(--gray-800);
    
    --muted: var(--gray-100);
    --muted-foreground: var(--gray-500);
    
    --accent: var(--gray-100);
    --accent-foreground: var(--gray-900);
    
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    
    --warning: 38 92% 50%;
    --warning-foreground: var(--gray-900);
    
    --border: var(--gray-200);
    --input: var(--gray-200);
    --ring: var(--gray-400);
    
    --radius: 0.75rem;
    
    /* App-specific tokens */
    --block-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
    --block-shadow-hover: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
    --block-shadow-active: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
    
    /* XP and Progress Colors */
    --xp-gradient: linear-gradient(135deg, hsl(var(--gray-700)), hsl(var(--gray-900)));
    --progress-bg: var(--gray-200);
    --progress-fill: var(--gray-700);
    
    /* Streak */
    --streak-color: 38 92% 50%;
  }

  .dark {
    --background: var(--gray-900);
    --foreground: var(--gray-50);
    
    --card: var(--gray-800);
    --card-foreground: var(--gray-50);
    
    --popover: var(--gray-800);
    --popover-foreground: var(--gray-50);
    
    --primary: var(--gray-50);
    --primary-foreground: var(--gray-900);
    
    --secondary: var(--gray-700);
    --secondary-foreground: var(--gray-100);
    
    --muted: var(--gray-700);
    --muted-foreground: var(--gray-400);
    
    --accent: var(--gray-700);
    --accent-foreground: var(--gray-50);
    
    --border: var(--gray-700);
    --input: var(--gray-700);
    --ring: var(--gray-500);
    
    --progress-bg: var(--gray-700);
    --progress-fill: var(--gray-400);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter Tight', system-ui, sans-serif;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Custom scrollbar for mobile feel */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--gray-300));
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--gray-400));
  }
}

@layer utilities {
  /* Notion-style block */
  .notion-block {
    @apply bg-card rounded-xl border border-border/50 transition-all duration-200;
    box-shadow: var(--block-shadow);
  }
  
  .notion-block:hover {
    box-shadow: var(--block-shadow-hover);
  }
  
  .notion-block:active {
    box-shadow: var(--block-shadow-active);
  }
  
  /* Progress bar styles */
  .progress-track {
    @apply h-2 rounded-full;
    background: hsl(var(--progress-bg));
  }
  
  .progress-fill {
    @apply h-full rounded-full transition-all duration-500 ease-out;
    background: hsl(var(--progress-fill));
  }
  
  /* XP gradient */
  .xp-gradient {
    background: var(--xp-gradient);
  }
  
  /* Streak glow */
  .streak-glow {
    box-shadow: 0 0 20px hsl(var(--streak-color) / 0.3);
  }
  
  /* Safe area for mobile */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
  
  .safe-area-top {
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  /* Touch feedback */
  .touch-feedback {
    @apply active:scale-[0.98] transition-transform duration-100;
  }
  
  /* Expandable animation */
  .expand-enter {
    animation: expandIn 0.2s ease-out;
  }
  
  @keyframes expandIn {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Subtle pulse for active items */
  .pulse-subtle {
    animation: pulseSoft 2s ease-in-out infinite;
  }
  
  @keyframes pulseSoft {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }
}
